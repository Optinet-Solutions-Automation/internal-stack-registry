(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{6108:function(e,t,r){Promise.resolve().then(r.bind(r,7961))},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var s=r(2972),n=r.n(s)},2119:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let s=r(3079);function n(e){let{createServerReference:t}=r(6671);return t(e,s.callServer)}},7961:function(e,t,r){"use strict";r.d(t,{default:function(){return p}});var s=r(7437),n=r(2265),a=r(7648);r(3079);var l=(0,r(2119).$)("1ffe143c9ec6e5c705707ae96ade22e08e9f4b05");let i={name:"",owner:"",stage:"planning",description:""},c="w-full bg-gray-800 border border-gray-700 text-gray-200 text-sm rounded-lg px-3 py-2 focus:outline-none focus:border-indigo-500 placeholder-gray-600";function o(e){let{label:t,children:r}=e;return(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-400",children:t}),r]})}function d(e){let{onClose:t}=e,[r,a]=(0,n.useState)(i),[d,x]=(0,n.useState)(!1),[p,u]=(0,n.useState)(null),g=(e,t)=>a(r=>({...r,[e]:t})),h=async e=>{if(e.preventDefault(),!r.name.trim())return;x(!0),u(null);let s=await l(r);x(!1),s.error?u(s.error):t()};return(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl w-full max-w-md mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-800",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Add Project"}),(0,s.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-white transition-colors text-xl leading-none",children:"\xd7"})]}),(0,s.jsxs)("form",{onSubmit:h,className:"px-6 py-5 space-y-4",children:[p&&(0,s.jsx)("div",{className:"bg-red-900/40 border border-red-800 text-red-300 text-sm rounded-lg px-4 py-3",children:p}),(0,s.jsx)(o,{label:"Project Name *",children:(0,s.jsx)("input",{type:"text",value:r.name,onChange:e=>g("name",e.target.value),required:!0,placeholder:"e.g. Customer Portal",className:c})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(o,{label:"Owner",children:(0,s.jsx)("input",{type:"text",value:r.owner,onChange:e=>g("owner",e.target.value),placeholder:"e.g. Chris",className:c})}),(0,s.jsx)(o,{label:"Stage",children:(0,s.jsxs)("select",{value:r.stage,onChange:e=>g("stage",e.target.value),className:c,children:[(0,s.jsx)("option",{value:"planning",children:"Planning"}),(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,s.jsx)("option",{value:"archived",children:"Archived"})]})})]}),(0,s.jsx)(o,{label:"Description",children:(0,s.jsx)("textarea",{value:r.description,onChange:e=>g("description",e.target.value),rows:3,placeholder:"What is this project?",className:"".concat(c," resize-none")})}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white text-sm font-medium rounded-lg transition-colors",children:d?"Saving...":"Add Project"})]})]})]})})}let x={planning:"bg-gray-800 text-gray-400",active:"bg-green-900 text-green-300",maintenance:"bg-yellow-900 text-yellow-300",archived:"bg-gray-800 text-gray-500"};function p(e){let{projects:t}=e,[r,l]=(0,n.useState)(!1),[i,c]=(0,n.useState)(""),o=t.filter(e=>!i||e.stage===i);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Projects"}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-400",children:[t.length," projects"]})]}),(0,s.jsx)("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium rounded-lg transition-colors",children:"+ Add Project"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 text-sm rounded-lg px-3 py-2 focus:outline-none focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"All Stages"}),(0,s.jsx)("option",{value:"planning",children:"Planning"}),(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,s.jsx)("option",{value:"archived",children:"Archived"})]}),i&&(0,s.jsx)("button",{onClick:()=>c(""),className:"text-sm text-gray-400 hover:text-white px-3 py-2 transition-colors",children:"Clear"})]}),(0,s.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,s.jsx)("th",{className:"text-left px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Project"}),(0,s.jsx)("th",{className:"text-left px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Owner"}),(0,s.jsx)("th",{className:"text-left px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Stage"}),(0,s.jsx)("th",{className:"text-center px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Tools"}),(0,s.jsx)("th",{className:"text-right px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Est. Monthly Cost"}),(0,s.jsx)("th",{className:"px-5 py-3.5"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-800",children:0===o.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-5 py-10 text-center text-gray-500",children:"No projects found"})}):o.map(e=>{var t;let r=e.tool_project_mapping.length,n=e.tool_project_mapping.reduce((e,t)=>{var r,s;let n=t.tools;if(!n||"active"!==n.status)return e;let a=null===(r=n.billing_subscriptions)||void 0===r?void 0:r[0];return e+(null!==(s=null==a?void 0:a.monthly_cost)&&void 0!==s?s:0)},0);return(0,s.jsxs)("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[(0,s.jsxs)("td",{className:"px-5 py-4",children:[(0,s.jsx)("p",{className:"font-medium text-white",children:e.name}),e.description&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-xs",children:e.description})]}),(0,s.jsx)("td",{className:"px-5 py-4 text-gray-400",children:null!==(t=e.owner)&&void 0!==t?t:"—"}),(0,s.jsx)("td",{className:"px-5 py-4",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded-full text-xs font-medium capitalize ".concat(x[e.stage]),children:e.stage})}),(0,s.jsx)("td",{className:"px-5 py-4 text-center text-gray-300",children:r}),(0,s.jsx)("td",{className:"px-5 py-4 text-right text-gray-300",children:n>0?"USD ".concat(n.toFixed(2)):"—"}),(0,s.jsx)("td",{className:"px-5 py-4 text-right",children:(0,s.jsx)(a.default,{href:"/projects/".concat(e.id),className:"text-indigo-400 hover:text-indigo-300 text-xs font-medium transition-colors",children:"View →"})})]},e.id)})})]})}),r&&(0,s.jsx)(d,{onClose:()=>l(!1)})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=6108)}),_N_E=e.O()}]);