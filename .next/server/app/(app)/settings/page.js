(()=>{var e={};e.id=558,e.ids=[558],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3084:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(5922),s(8927),s(5866),s(2029);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(app)",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5922)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8927)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\settings\\page.tsx"],x="/(app)/settings/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7881:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},9528:(e,t,s)=>{Promise.resolve().then(s.bind(s,4835))},4571:()=>{},3458:(e,t,s)=>{Promise.resolve().then(s.bind(s,7676))},4835:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(326);let a={super_admin:"bg-indigo-900 text-indigo-300",finance_admin:"bg-blue-900 text-blue-300",devops:"bg-green-900 text-green-300",viewer:"bg-gray-800 text-gray-400"},i={super_admin:"Full access to all modules and settings",finance_admin:"Access to billing and wallets",devops:"Access to tools, usage, credentials, and incidents",viewer:"Read-only access to all modules"};function n({title:e,children:t}){return(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 space-y-4",children:[r.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:e}),t]})}function l({userRoles:e,currentUserId:t,currentUserEmail:s}){let l=e.find(e=>e.user_id===t);return(0,r.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Account, roles, and system information"})]}),r.jsx(n,{title:"Your Account",children:(0,r.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:s}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Signed in via Google SSO"})]}),l&&r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-xs font-semibold capitalize ${a[l.role]}`,children:l.role.replace("_"," ")})]})}),(0,r.jsxs)(n,{title:"Role Permissions",children:[r.jsx("div",{className:"space-y-3",children:Object.entries(i).map(([e,t])=>r.jsx("div",{className:"flex items-start justify-between gap-4 py-2 border-b border-gray-800 last:border-0",children:(0,r.jsxs)("div",{children:[r.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-semibold capitalize ${a[e]}`,children:e.replace("_"," ")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t})]})},e))}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg px-4 py-3 mt-2",children:[r.jsx("p",{className:"text-xs text-gray-400",children:"To assign or change a user role, run this in the Supabase SQL editor:"}),r.jsx("pre",{className:"text-xs text-indigo-300 mt-2 font-mono overflow-x-auto",children:`INSERT INTO user_roles (user_id, role)
SELECT id, 'super_admin'
FROM auth.users
WHERE email = 'user@example.com'
ON CONFLICT (user_id)
DO UPDATE SET role = EXCLUDED.role;`})]})]}),r.jsx(n,{title:"Assigned Roles",children:0===e.length?r.jsx("p",{className:"text-sm text-gray-500",children:"No roles assigned yet."}):r.jsx("div",{className:"space-y-2",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-800 last:border-0",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 font-mono",children:e.user_id}),(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-0.5",children:["Added ",new Date(e.created_at).toLocaleDateString()]})]}),r.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-semibold capitalize ${a[e.role]}`,children:e.role.replace("_"," ")})]},e.id))})}),r.jsx(n,{title:"System",children:r.jsx("div",{className:"space-y-2 text-sm",children:[{label:"Database",value:"Supabase PostgreSQL"},{label:"Auth",value:"Google SSO via Supabase Auth"},{label:"Frontend",value:"Next.js 14 (App Router)"},{label:"Deployment",value:"Vercel"},{label:"RLS",value:"Enabled on all tables"}].map(({label:e,value:t})=>(0,r.jsxs)("div",{className:"flex justify-between py-1.5 border-b border-gray-800 last:border-0",children:[r.jsx("span",{className:"text-gray-500",children:e}),r.jsx("span",{className:"text-gray-300",children:t})]},e))})})]})}},7676:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(326),a=s(434),i=s(5047),n=s(9701);let l=[{href:"/dashboard",label:"Dashboard",icon:"▦"},{href:"/tools",label:"Tools",icon:"⚙"},{href:"/projects",label:"Projects",icon:"◫"},{href:"/billing",label:"Billing",icon:"◈"},{href:"/wallets",label:"Wallets",icon:"◉"},{href:"/usage",label:"Usage",icon:"◎"},{href:"/credentials",label:"Credentials",icon:"◬"},{href:"/incidents",label:"Incidents",icon:"◭"},{href:"/alerts",label:"Alerts",icon:"◆"},{href:"/purchases",label:"Purchases",icon:"◻"},{href:"/settings",label:"Settings",icon:"◌"}];function o(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),s=(0,n.e)(),o=async()=>{await s.auth.signOut(),t.push("/login")};return(0,r.jsxs)("aside",{className:"w-56 shrink-0 flex flex-col h-screen bg-gray-900 border-r border-gray-800",children:[(0,r.jsxs)("div",{className:"px-5 py-5 border-b border-gray-800",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-widest",children:"Optinet"}),r.jsx("p",{className:"text-sm font-bold text-white mt-0.5",children:"Stack Registry"})]}),r.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5 overflow-y-auto",children:l.map(({href:t,label:s,icon:i})=>{let n=e===t||e.startsWith(`${t}/`);return(0,r.jsxs)(a.default,{href:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${n?"bg-indigo-600 text-white font-medium":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[r.jsx("span",{className:"text-base leading-none",children:i}),s]},t)})}),r.jsx("div",{className:"px-3 py-4 border-t border-gray-800",children:(0,r.jsxs)("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-gray-800 transition-colors",children:[r.jsx("span",{children:"→"})," Sign out"]})})]})}},9701:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(861);let a=()=>(0,r.createBrowserClient)("https://vmaqujtqghmsyyixklmw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtYXF1anRxZ2htc3l5aXhrbG13Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5OTU2MzcsImV4cCI6MjA4NzU3MTYzN30.ZswkblLsDdc4Rj9jqJt5KVektufrC9MM6_tARpMo6Uk")},8927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(9510),a=s(8585),i=s(5655);let n=(0,s(8570).createProxy)(String.raw`C:\Users\Chris-Optinet\internal-stack-registry\src\components\layout\Sidebar.tsx#default`);async function l({children:e}){let t=await (0,i.e)(),{data:{user:s}}=await t.auth.getUser();return s||(0,a.redirect)("/login"),(0,r.jsxs)("div",{className:"flex h-screen overflow-hidden bg-gray-950",children:[r.jsx(n,{}),r.jsx("main",{className:"flex-1 overflow-y-auto p-8",children:e})]})}},5922:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(9510),a=s(5655);let i=(0,s(8570).createProxy)(String.raw`C:\Users\Chris-Optinet\internal-stack-registry\src\app\(app)\settings\SettingsClient.tsx#default`);async function n(){let e=await (0,a.e)(),{data:t}=await e.from("user_roles").select("*"),{data:{user:s}}=await e.auth.getUser();return r.jsx(i,{userRoles:t??[],currentUserId:s?.id??"",currentUserEmail:s?.email??""})}},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>a});var r=s(9510);s(5023);let a={title:"Internal Stack Registry | Optinet Solutions",description:"Manage your internal tools, billing, and infrastructure"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-gray-950 text-gray-100 antialiased",children:e})})}},5655:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var r=s(2728),a=s(1615);let i=async()=>{let e=await (0,a.cookies)();return(0,r.createServerClient)("https://vmaqujtqghmsyyixklmw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtYXF1anRxZ2htc3l5aXhrbG13Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5OTU2MzcsImV4cCI6MjA4NzU3MTYzN30.ZswkblLsDdc4Rj9jqJt5KVektufrC9MM6_tARpMo6Uk",{cookies:{getAll:()=>e.getAll(),setAll:t=>{try{t.forEach(({name:t,value:s,options:r})=>e.set(t,s,r))}catch{}}}})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,471,637,861,512],()=>s(3084));module.exports=r})();