(()=>{var e={};e.id=94,e.ids=[94],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6789:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>g,tree:()=>o}),s(3474),s(8927),s(5866),s(2029);var r=s(3191),l=s(8716),a=s(7922),i=s.n(a),n=s(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["(app)",{children:["projects",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3474)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\projects\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8927)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\projects\\[id]\\page.tsx"],x="/(app)/projects/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(app)/projects/[id]/page",pathname:"/projects/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7881:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},8140:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9404,23))},4571:()=>{},3458:(e,t,s)=>{Promise.resolve().then(s.bind(s,7676))},7676:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(326),l=s(434),a=s(5047),i=s(9701);let n=[{href:"/dashboard",label:"Dashboard",icon:"▦"},{href:"/tools",label:"Tools",icon:"⚙"},{href:"/projects",label:"Projects",icon:"◫"},{href:"/billing",label:"Billing",icon:"◈"},{href:"/wallets",label:"Wallets",icon:"◉"},{href:"/usage",label:"Usage",icon:"◎"},{href:"/credentials",label:"Credentials",icon:"◬"},{href:"/incidents",label:"Incidents",icon:"◭"},{href:"/alerts",label:"Alerts",icon:"◆"},{href:"/purchases",label:"Purchases",icon:"◻"},{href:"/settings",label:"Settings",icon:"◌"}];function c(){let e=(0,a.usePathname)(),t=(0,a.useRouter)(),s=(0,i.e)(),c=async()=>{await s.auth.signOut(),t.push("/login")};return(0,r.jsxs)("aside",{className:"w-56 shrink-0 flex flex-col h-screen bg-gray-900 border-r border-gray-800",children:[(0,r.jsxs)("div",{className:"px-5 py-5 border-b border-gray-800",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-widest",children:"Optinet"}),r.jsx("p",{className:"text-sm font-bold text-white mt-0.5",children:"Stack Registry"})]}),r.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5 overflow-y-auto",children:n.map(({href:t,label:s,icon:a})=>{let i=e===t||e.startsWith(`${t}/`);return(0,r.jsxs)(l.default,{href:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${i?"bg-indigo-600 text-white font-medium":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[r.jsx("span",{className:"text-base leading-none",children:a}),s]},t)})}),r.jsx("div",{className:"px-3 py-4 border-t border-gray-800",children:(0,r.jsxs)("button",{onClick:c,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-gray-800 transition-colors",children:[r.jsx("span",{children:"→"})," Sign out"]})})]})}},9701:(e,t,s)=>{"use strict";s.d(t,{e:()=>l});var r=s(861);let l=()=>(0,r.createBrowserClient)("https://vmaqujtqghmsyyixklmw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtYXF1anRxZ2htc3l5aXhrbG13Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5OTU2MzcsImV4cCI6MjA4NzU3MTYzN30.ZswkblLsDdc4Rj9jqJt5KVektufrC9MM6_tARpMo6Uk")},7371:(e,t,s)=>{"use strict";s.d(t,{default:()=>l.a});var r=s(1812),l=s.n(r)},1812:(e,t,s)=>{"use strict";let{createProxy:r}=s(8570);e.exports=r("C:\\Users\\Chris-Optinet\\internal-stack-registry\\node_modules\\next\\dist\\client\\link.js")},8927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(9510),l=s(8585),a=s(5655);let i=(0,s(8570).createProxy)(String.raw`C:\Users\Chris-Optinet\internal-stack-registry\src\components\layout\Sidebar.tsx#default`);async function n({children:e}){let t=await (0,a.e)(),{data:{user:s}}=await t.auth.getUser();return s||(0,l.redirect)("/login"),(0,r.jsxs)("div",{className:"flex h-screen overflow-hidden bg-gray-950",children:[r.jsx(i,{}),r.jsx("main",{className:"flex-1 overflow-y-auto p-8",children:e})]})}},3474:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(9510),l=s(5655),a=s(8585),i=s(7371);let n={planning:"bg-gray-800 text-gray-400",active:"bg-green-900 text-green-300",maintenance:"bg-yellow-900 text-yellow-300",archived:"bg-gray-800 text-gray-500"},c={low:"bg-green-900 text-green-300",medium:"bg-yellow-900 text-yellow-300",high:"bg-orange-900 text-orange-300",critical:"bg-red-900 text-red-300"},o={subscription:"bg-blue-900 text-blue-300",wallet:"bg-purple-900 text-purple-300",usage:"bg-yellow-900 text-yellow-300",free:"bg-gray-800 text-gray-400"},d={active:"bg-green-900 text-green-300",inactive:"bg-gray-800 text-gray-400",deprecated:"bg-red-900 text-red-300"};function x({label:e,cls:t}){return r.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium capitalize ${t}`,children:e})}function p({title:e,children:t}){return(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 space-y-4",children:[r.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:e}),t]})}function g({label:e,children:t}){return(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4 py-2 border-b border-gray-800 last:border-0",children:[r.jsx("span",{className:"text-sm text-gray-500 shrink-0 w-32",children:e}),r.jsx("span",{className:"text-sm text-gray-200 text-right",children:t})]})}async function h({params:e}){let t=await (0,l.e)(),[{data:s},{data:h}]=await Promise.all([t.from("projects").select("*").eq("id",e.id).single(),t.from("tool_project_mapping").select(`
        id, role,
        tools(
          id, name, category, billing_type, risk_level, status, critical, vendor,
          billing_subscriptions(monthly_cost, currency),
          wallets(current_balance, currency)
        )
      `).eq("project_id",e.id)]);s||(0,a.notFound)();let m=h??[],u=m.filter(e=>e.tools?.status==="active"),b=u.reduce((e,t)=>{let s=t.tools?.billing_subscriptions?.[0];return e+(s?.monthly_cost??0)},0),y=u.reduce((e,t)=>{let s=t.tools?.wallets?.[0];return e+(s?.current_balance??0)},0),j=u.filter(e=>e.tools?.critical).length,f=u.filter(e=>e.tools?.risk_level==="high"||e.tools?.risk_level==="critical").length;return(0,r.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,r.jsxs)("div",{children:[r.jsx(i.default,{href:"/projects",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"← Back to Projects"}),(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-3 flex-wrap",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:s.name}),r.jsx(x,{label:s.stage,cls:n[s.stage]})]}),s.description&&r.jsx("p",{className:"mt-2 text-sm text-gray-400",children:s.description})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Tools",value:m.length.toString()},{label:"Est. Monthly Cost",value:b>0?`USD ${b.toFixed(2)}`:"—"},{label:"Wallet Balances",value:y>0?`USD ${y.toFixed(2)}`:"—"},{label:"Critical / High Risk",value:`${j} / ${f}`}].map(e=>(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-4",children:[r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:e.label}),r.jsx("p",{className:"mt-1.5 text-xl font-bold text-white",children:e.value})]},e.label))}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(p,{title:"Overview",children:[r.jsx(g,{label:"Owner",children:s.owner??"—"}),r.jsx(g,{label:"Stage",children:r.jsx(x,{label:s.stage,cls:n[s.stage]})}),r.jsx(g,{label:"Created",children:new Date(s.created_at).toLocaleDateString()})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsx(p,{title:"Cost Breakdown",children:0===u.length?r.jsx("p",{className:"text-sm text-gray-500",children:"No active tools linked."}):(0,r.jsxs)("div",{className:"space-y-2",children:[u.map(e=>{let t=e.tools,s=t.billing_subscriptions?.[0],l=t.wallets?.[0];return(0,r.jsxs)("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-800 last:border-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[t.critical&&r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 shrink-0"}),r.jsx(i.default,{href:`/tools/${t.id}`,className:"text-sm text-indigo-400 hover:text-indigo-300 font-medium",children:t.name}),e.role&&(0,r.jsxs)("span",{className:"text-xs text-gray-600",children:["\xb7 ",e.role]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(x,{label:t.billing_type,cls:o[t.billing_type]}),r.jsx("span",{className:"text-sm text-gray-300 w-28 text-right",children:s?`${s.currency} ${Number(s.monthly_cost).toFixed(2)}/mo`:l?`${l.currency} ${Number(l.current_balance).toFixed(2)} bal`:"—"})]})]},e.id)}),b>0&&(0,r.jsxs)("div",{className:"flex justify-between pt-2 border-t border-gray-700",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Total Fixed / Month"}),(0,r.jsxs)("span",{className:"text-sm font-bold text-white",children:["USD ",b.toFixed(2)]})]})]})})})]}),r.jsx(p,{title:"All Linked Tools",children:0===m.length?r.jsx("p",{className:"text-sm text-gray-500",children:"No tools linked to this project."}):(0,r.jsxs)("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{className:"border-b border-gray-800",children:["Tool","Category","Billing","Risk","Status","Role"].map(e=>r.jsx("th",{className:"text-left pb-3 text-xs text-gray-500 font-semibold uppercase tracking-wider pr-4",children:e},e))})}),r.jsx("tbody",{className:"divide-y divide-gray-800",children:m.map(e=>{let t=e.tools;return t?(0,r.jsxs)("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[r.jsx("td",{className:"py-3 pr-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[t.critical&&r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 shrink-0"}),r.jsx(i.default,{href:`/tools/${t.id}`,className:"text-indigo-400 hover:text-indigo-300 font-medium",children:t.name})]})}),r.jsx("td",{className:"py-3 pr-4 text-gray-400",children:t.category??"—"}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(x,{label:t.billing_type,cls:o[t.billing_type]})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(x,{label:t.risk_level,cls:c[t.risk_level]})}),r.jsx("td",{className:"py-3 pr-4",children:r.jsx(x,{label:t.status,cls:d[t.status]})}),r.jsx("td",{className:"py-3 text-gray-400 text-xs",children:e.role??"—"})]},e.id):null})})]})})]})}},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a,metadata:()=>l});var r=s(9510);s(5023);let l={title:"Internal Stack Registry | Optinet Solutions",description:"Manage your internal tools, billing, and infrastructure"};function a({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-gray-950 text-gray-100 antialiased",children:e})})}},5655:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(2728),l=s(1615);let a=async()=>{let e=await (0,l.cookies)();return(0,r.createServerClient)("https://vmaqujtqghmsyyixklmw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtYXF1anRxZ2htc3l5aXhrbG13Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5OTU2MzcsImV4cCI6MjA4NzU3MTYzN30.ZswkblLsDdc4Rj9jqJt5KVektufrC9MM6_tARpMo6Uk",{cookies:{getAll:()=>e.getAll(),setAll:t=>{try{t.forEach(({name:t,value:s,options:r})=>e.set(t,s,r))}catch{}}}})}},5023:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,471,637,861,512],()=>s(6789));module.exports=r})();