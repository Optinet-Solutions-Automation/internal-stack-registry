(()=>{var e={};e.id=958,e.ids=[958],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(9333),r(8927),r(5866),r(2029);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["(app)",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9333)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\projects\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8927)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Chris-Optinet\\internal-stack-registry\\src\\app\\(app)\\projects\\page.tsx"],x="/(app)/projects/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9246:(e,t,r)=>{let s={"1ffe143c9ec6e5c705707ae96ade22e08e9f4b05":()=>Promise.resolve().then(r.bind(r,6761)).then(e=>e.createProject)};async function a(e,...t){return(await s[e]()).apply(null,t)}e.exports={"1ffe143c9ec6e5c705707ae96ade22e08e9f4b05":a.bind(null,"1ffe143c9ec6e5c705707ae96ade22e08e9f4b05")}},7881:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},568:(e,t,r)=>{Promise.resolve().then(r.bind(r,2614))},4571:()=>{},3458:(e,t,r)=>{Promise.resolve().then(r.bind(r,7676))},2614:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(326),a=r(7577),n=r(434);r(5424);var i=(0,r(6242).$)("1ffe143c9ec6e5c705707ae96ade22e08e9f4b05");let l={name:"",owner:"",stage:"planning",description:""},o="w-full bg-gray-800 border border-gray-700 text-gray-200 text-sm rounded-lg px-3 py-2 focus:outline-none focus:border-indigo-500 placeholder-gray-600";function c({label:e,children:t}){return(0,s.jsxs)("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400",children:e}),t]})}function d({onClose:e}){let[t,r]=(0,a.useState)(l),[n,d]=(0,a.useState)(!1),[x,p]=(0,a.useState)(null),h=(e,t)=>r(r=>({...r,[e]:t})),u=async r=>{if(r.preventDefault(),!t.name.trim())return;d(!0),p(null);let s=await i(t);d(!1),s.error?p(s.error):e()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl w-full max-w-md mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-800",children:[s.jsx("h2",{className:"text-lg font-semibold text-white",children:"Add Project"}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white transition-colors text-xl leading-none",children:"\xd7"})]}),(0,s.jsxs)("form",{onSubmit:u,className:"px-6 py-5 space-y-4",children:[x&&s.jsx("div",{className:"bg-red-900/40 border border-red-800 text-red-300 text-sm rounded-lg px-4 py-3",children:x}),s.jsx(c,{label:"Project Name *",children:s.jsx("input",{type:"text",value:t.name,onChange:e=>h("name",e.target.value),required:!0,placeholder:"e.g. Customer Portal",className:o})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(c,{label:"Owner",children:s.jsx("input",{type:"text",value:t.owner,onChange:e=>h("owner",e.target.value),placeholder:"e.g. Chris",className:o})}),s.jsx(c,{label:"Stage",children:(0,s.jsxs)("select",{value:t.stage,onChange:e=>h("stage",e.target.value),className:o,children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"archived",children:"Archived"})]})})]}),s.jsx(c,{label:"Description",children:s.jsx("textarea",{value:t.description,onChange:e=>h("description",e.target.value),rows:3,placeholder:"What is this project?",className:`${o} resize-none`})}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white text-sm font-medium rounded-lg transition-colors",children:n?"Saving...":"Add Project"})]})]})]})})}let x={planning:"bg-gray-800 text-gray-400",active:"bg-green-900 text-green-300",maintenance:"bg-yellow-900 text-yellow-300",archived:"bg-gray-800 text-gray-500"};function p({projects:e}){let[t,r]=(0,a.useState)(!1),[i,l]=(0,a.useState)(""),o=e.filter(e=>!i||e.stage===i);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Projects"}),(0,s.jsxs)("p",{className:"mt-1 text-sm text-gray-400",children:[e.length," projects"]})]}),s.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium rounded-lg transition-colors",children:"+ Add Project"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("select",{value:i,onChange:e=>l(e.target.value),className:"bg-gray-900 border border-gray-700 text-gray-300 text-sm rounded-lg px-3 py-2 focus:outline-none focus:border-indigo-500",children:[s.jsx("option",{value:"",children:"All Stages"}),s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"archived",children:"Archived"})]}),i&&s.jsx("button",{onClick:()=>l(""),className:"text-sm text-gray-400 hover:text-white px-3 py-2 transition-colors",children:"Clear"})]}),s.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-800",children:[s.jsx("th",{className:"text-left px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Project"}),s.jsx("th",{className:"text-left px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Owner"}),s.jsx("th",{className:"text-left px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Stage"}),s.jsx("th",{className:"text-center px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Tools"}),s.jsx("th",{className:"text-right px-5 py-3.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Est. Monthly Cost"}),s.jsx("th",{className:"px-5 py-3.5"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-800",children:0===o.length?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-5 py-10 text-center text-gray-500",children:"No projects found"})}):o.map(e=>{let t=e.tool_project_mapping.length,r=e.tool_project_mapping.reduce((e,t)=>{let r=t.tools;if(!r||"active"!==r.status)return e;let s=r.billing_subscriptions?.[0];return e+(s?.monthly_cost??0)},0);return(0,s.jsxs)("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[(0,s.jsxs)("td",{className:"px-5 py-4",children:[s.jsx("p",{className:"font-medium text-white",children:e.name}),e.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate max-w-xs",children:e.description})]}),s.jsx("td",{className:"px-5 py-4 text-gray-400",children:e.owner??"—"}),s.jsx("td",{className:"px-5 py-4",children:s.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium capitalize ${x[e.stage]}`,children:e.stage})}),s.jsx("td",{className:"px-5 py-4 text-center text-gray-300",children:t}),s.jsx("td",{className:"px-5 py-4 text-right text-gray-300",children:r>0?`USD ${r.toFixed(2)}`:"—"}),s.jsx("td",{className:"px-5 py-4 text-right",children:s.jsx(n.default,{href:`/projects/${e.id}`,className:"text-indigo-400 hover:text-indigo-300 text-xs font-medium transition-colors",children:"View →"})})]},e.id)})})]})}),t&&s.jsx(d,{onClose:()=>r(!1)})]})}},7676:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(326),a=r(434),n=r(5047),i=r(9701);let l=[{href:"/dashboard",label:"Dashboard",icon:"▦"},{href:"/tools",label:"Tools",icon:"⚙"},{href:"/projects",label:"Projects",icon:"◫"},{href:"/billing",label:"Billing",icon:"◈"},{href:"/wallets",label:"Wallets",icon:"◉"},{href:"/usage",label:"Usage",icon:"◎"},{href:"/credentials",label:"Credentials",icon:"◬"},{href:"/incidents",label:"Incidents",icon:"◭"},{href:"/alerts",label:"Alerts",icon:"◆"},{href:"/purchases",label:"Purchases",icon:"◻"},{href:"/settings",label:"Settings",icon:"◌"}];function o(){let e=(0,n.usePathname)(),t=(0,n.useRouter)(),r=(0,i.e)(),o=async()=>{await r.auth.signOut(),t.push("/login")};return(0,s.jsxs)("aside",{className:"w-56 shrink-0 flex flex-col h-screen bg-gray-900 border-r border-gray-800",children:[(0,s.jsxs)("div",{className:"px-5 py-5 border-b border-gray-800",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-widest",children:"Optinet"}),s.jsx("p",{className:"text-sm font-bold text-white mt-0.5",children:"Stack Registry"})]}),s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5 overflow-y-auto",children:l.map(({href:t,label:r,icon:n})=>{let i=e===t||e.startsWith(`${t}/`);return(0,s.jsxs)(a.default,{href:t,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${i?"bg-indigo-600 text-white font-medium":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[s.jsx("span",{className:"text-base leading-none",children:n}),r]},t)})}),s.jsx("div",{className:"px-3 py-4 border-t border-gray-800",children:(0,s.jsxs)("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm text-gray-400 hover:text-white hover:bg-gray-800 transition-colors",children:[s.jsx("span",{children:"→"})," Sign out"]})})]})}},9701:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var s=r(861);let a=()=>(0,s.createBrowserClient)("https://vmaqujtqghmsyyixklmw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtYXF1anRxZ2htc3l5aXhrbG13Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5OTU2MzcsImV4cCI6MjA4NzU3MTYzN30.ZswkblLsDdc4Rj9jqJt5KVektufrC9MM6_tARpMo6Uk")},8927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(9510),a=r(8585),n=r(5655);let i=(0,r(8570).createProxy)(String.raw`C:\Users\Chris-Optinet\internal-stack-registry\src\components\layout\Sidebar.tsx#default`);async function l({children:e}){let t=await (0,n.e)(),{data:{user:r}}=await t.auth.getUser();return r||(0,a.redirect)("/login"),(0,s.jsxs)("div",{className:"flex h-screen overflow-hidden bg-gray-950",children:[s.jsx(i,{}),s.jsx("main",{className:"flex-1 overflow-y-auto p-8",children:e})]})}},6761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createProject:()=>i});var s=r(7745);r(6461);var a=r(1870),n=r(207);async function i(e){let t=await (0,a.e)(),{error:r}=await t.from("projects").insert({name:e.name,owner:e.owner||null,stage:e.stage,description:e.description||null});return r?{error:r.message}:((0,n.revalidatePath)("/projects"),{error:null})}(0,r(5723).h)([i]),(0,s.j)("1ffe143c9ec6e5c705707ae96ade22e08e9f4b05",i)},9333:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(9510),a=r(5655);let n=(0,r(8570).createProxy)(String.raw`C:\Users\Chris-Optinet\internal-stack-registry\src\app\(app)\projects\ProjectsClient.tsx#default`);async function i(){let e=await (0,a.e)(),{data:t}=await e.from("projects").select(`
      *,
      tool_project_mapping(
        tool_id,
        tools(
          id,
          name,
          billing_type,
          status,
          billing_subscriptions(monthly_cost, currency)
        )
      )
    `).order("name");return s.jsx(n,{projects:t??[]})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(9510);r(5023);let a={title:"Internal Stack Registry | Optinet Solutions",description:"Manage your internal tools, billing, and infrastructure"};function n({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:"bg-gray-950 text-gray-100 antialiased",children:e})})}},1870:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var s=r(6389),a=r(3973);let n=async()=>{let e=await (0,a.cookies)();return(0,s.createServerClient)("https://vmaqujtqghmsyyixklmw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtYXF1anRxZ2htc3l5aXhrbG13Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5OTU2MzcsImV4cCI6MjA4NzU3MTYzN30.ZswkblLsDdc4Rj9jqJt5KVektufrC9MM6_tARpMo6Uk",{cookies:{getAll:()=>e.getAll(),setAll:t=>{try{t.forEach(({name:t,value:r,options:s})=>e.set(t,r,s))}catch{}}}})}},5655:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var s=r(2728),a=r(1615);let n=async()=>{let e=await (0,a.cookies)();return(0,s.createServerClient)("https://vmaqujtqghmsyyixklmw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtYXF1anRxZ2htc3l5aXhrbG13Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5OTU2MzcsImV4cCI6MjA4NzU3MTYzN30.ZswkblLsDdc4Rj9jqJt5KVektufrC9MM6_tARpMo6Uk",{cookies:{getAll:()=>e.getAll(),setAll:t=>{try{t.forEach(({name:t,value:r,options:s})=>e.set(t,r,s))}catch{}}}})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,471,637,861,512,799],()=>r(6942));module.exports=s})();